{"remainingRequest":"D:\\root\\demo\\vue-music-player\\node_modules\\babel-loader\\lib\\index.js!D:\\root\\demo\\vue-music-player\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\root\\demo\\vue-music-player\\src\\router\\index.js","dependencies":[{"path":"D:\\root\\demo\\vue-music-player\\src\\router\\index.js","mtime":1644133676960},{"path":"D:\\root\\demo\\vue-music-player\\babel.config.js","mtime":1643377869401},{"path":"D:\\root\\demo\\vue-music-player\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643377815779},{"path":"D:\\root\\demo\\vue-music-player\\node_modules\\babel-loader\\lib\\index.js","mtime":1643377827346},{"path":"D:\\root\\demo\\vue-music-player\\node_modules\\eslint-loader\\index.js","mtime":1643377818418}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgTG9naW4gZnJvbSAnQC92aWV3cy9Mb2dpbi52dWUnOwppbXBvcnQgUGhvbmVMb2dpbiBmcm9tICdAL2NvbXBvbmVudHMvUGhvbmVMb2dpbi52dWUnOwppbXBvcnQgRW1haWxMb2dpbiBmcm9tICdAL2NvbXBvbmVudHMvRW1haWxMb2dpbi52dWUnOwppbXBvcnQgSG9tZSBmcm9tICdAL3ZpZXdzL0hvbWUudnVlJzsKaW1wb3J0IEhvbWVwYWdlIGZyb20gJ0AvY29tcG9uZW50cy9Ib21lcGFnZS52dWUnOwppbXBvcnQgU2VhcmNocGFnZSBmcm9tICdAL2NvbXBvbmVudHMvU2VhcmNocGFnZS52dWUnOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICcvJywKICByZWRpcmVjdDogJy9sb2dpbi9tb2RlMScKfSwgewogIHBhdGg6ICcvbG9naW4nLAogIHJlZGlyZWN0OiAnL2xvZ2luL21vZGUxJywKICBjb21wb25lbnQ6IExvZ2luLAogIGNoaWxkcmVuOiBbewogICAgcGF0aDogJ21vZGUxJywKICAgIGNvbXBvbmVudDogUGhvbmVMb2dpbgogIH0sIHsKICAgIHBhdGg6ICdtb2RlMicsCiAgICBjb21wb25lbnQ6IEVtYWlsTG9naW4KICB9XQp9LCB7CiAgcGF0aDogJy9ob21lJywKICBjb21wb25lbnQ6IEhvbWUsCiAgcmVkaXJlY3Q6ICcvaG9tZS9ob21lcGFnZScsCiAgY2hpbGRyZW46IFt7CiAgICBwYXRoOiAnaG9tZXBhZ2UnLAogICAgY29tcG9uZW50OiBIb21lcGFnZQogIH0sIHsKICAgIHBhdGg6ICdzZWFyY2hwYWdlJywKICAgIGNvbXBvbmVudDogU2VhcmNocGFnZQogIH1dCn1dOwp2YXIgcm91dGVyID0gbmV3IFZ1ZVJvdXRlcih7CiAgbW9kZTogJ2hpc3RvcnknLAogIGJhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIHJvdXRlczogcm91dGVzCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICBpZiAodG8uZnVsbFBhdGggPT09ICcvaG9tZS9ob21lcGFnZScgfHwgdG8uZnVsbFBhdGggPT09ICcvaG9tZS9zZWFyY2hwYWdlJykgewogICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSkgewogICAgICBpZiAoZnJvbS5mdWxsUGF0aCA9PT0gJy9ob21lL3NlYXJjaHBhZ2UnKSB7CiAgICAgICAgbmV4dCgpOwogICAgICB9IGVsc2UgewogICAgICAgIG5leHQoKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgbmV4dCgnL2xvZ2luJyk7CiAgICB9CiAgfSBlbHNlIGlmICh0by5mdWxsUGF0aCA9PT0gJy9sb2dpbi9tb2RlMScgfHwgdG8uZnVsbFBhdGggPT09ICcvbG9naW4vbW9kZTInKSB7CiAgICBpZiAod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpID09PSAndHJ1ZScpIHsKICAgICAgbmV4dCgnL2hvbWUnKTsKICAgIH0gZWxzZSB7CiAgICAgIG5leHQoKTsKICAgIH0KICB9IGVsc2UgewogICAgbmV4dCgpOwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["D:/root/demo/vue-music-player/src/router/index.js"],"names":["Vue","VueRouter","Login","PhoneLogin","EmailLogin","Home","Homepage","Searchpage","use","routes","path","redirect","component","children","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","fullPath","window","localStorage","getItem"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AAEAP,GAAG,CAACQ,GAAJ,CAAQP,SAAR;AAEA,IAAMQ,MAAM,GAAG,CACb;AAAEC,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,QAAQ,EAAE;AAAvB,CADa,EAEb;AACED,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,QAAQ,EAAE,cAFZ;AAGEC,EAAAA,SAAS,EAAEV,KAHb;AAIEW,EAAAA,QAAQ,EAAE,CACR;AAAEH,IAAAA,IAAI,EAAE,OAAR;AAAiBE,IAAAA,SAAS,EAAET;AAA5B,GADQ,EAER;AAAEO,IAAAA,IAAI,EAAE,OAAR;AAAiBE,IAAAA,SAAS,EAAER;AAA5B,GAFQ;AAJZ,CAFa,EAWb;AACEM,EAAAA,IAAI,EAAE,OADR;AAEEE,EAAAA,SAAS,EAAEP,IAFb;AAGEM,EAAAA,QAAQ,EAAE,gBAHZ;AAIEE,EAAAA,QAAQ,EAAE,CACR;AAAEH,IAAAA,IAAI,EAAE,UAAR;AAAoBE,IAAAA,SAAS,EAAEN;AAA/B,GADQ,EAER;AAAEI,IAAAA,IAAI,EAAE,YAAR;AAAsBE,IAAAA,SAAS,EAAEL;AAAjC,GAFQ;AAJZ,CAXa,CAAf;AAsBA,IAAMO,MAAM,GAAG,IAAIb,SAAJ,CAAc;AAC3Bc,EAAAA,IAAI,EAAE,SADqB;AAE3BC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFS;AAG3BV,EAAAA,MAAM,EAANA;AAH2B,CAAd,CAAf;AAKAK,MAAM,CAACM,UAAP,CAAkB,UAAUC,EAAV,EAAcC,IAAd,EAAoBC,IAApB,EAA0B;AAC1C,MAAIF,EAAE,CAACG,QAAH,KAAgB,gBAAhB,IAAoCH,EAAE,CAACG,QAAH,KAAgB,kBAAxD,EAA4E;AAC1E,QAAIC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAJ,EAA0C;AACxC,UAAIL,IAAI,CAACE,QAAL,KAAkB,kBAAtB,EAA0C;AACxCD,QAAAA,IAAI;AACL,OAFD,MAEO;AACLA,QAAAA,IAAI;AACL;AACF,KAND,MAMO;AACLA,MAAAA,IAAI,CAAC,QAAD,CAAJ;AACD;AACF,GAVD,MAUO,IAAIF,EAAE,CAACG,QAAH,KAAgB,cAAhB,IAAkCH,EAAE,CAACG,QAAH,KAAgB,cAAtD,EAAsE;AAC3E,QAAIC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,MAAyC,MAA7C,EAAqD;AACnDJ,MAAAA,IAAI,CAAC,OAAD,CAAJ;AACD,KAFD,MAEO;AACLA,MAAAA,IAAI;AACL;AACF,GANM,MAMA;AACLA,IAAAA,IAAI;AACL;AACF,CApBD;AAqBA,eAAeT,MAAf","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Login from '@/views/Login.vue'\r\nimport PhoneLogin from '@/components/PhoneLogin.vue'\r\nimport EmailLogin from '@/components/EmailLogin.vue'\r\nimport Home from '@/views/Home.vue'\r\nimport Homepage from '@/components/Homepage.vue'\r\nimport Searchpage from '@/components/Searchpage.vue'\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n  { path: '/', redirect: '/login/mode1' },\r\n  {\r\n    path: '/login',\r\n    redirect: '/login/mode1',\r\n    component: Login,\r\n    children: [\r\n      { path: 'mode1', component: PhoneLogin },\r\n      { path: 'mode2', component: EmailLogin }\r\n    ]\r\n  },\r\n  {\r\n    path: '/home',\r\n    component: Home,\r\n    redirect: '/home/homepage',\r\n    children: [\r\n      { path: 'homepage', component: Homepage },\r\n      { path: 'searchpage', component: Searchpage }\r\n    ]\r\n  }\r\n]\r\n\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  base: process.env.BASE_URL,\r\n  routes\r\n})\r\nrouter.beforeEach(function (to, from, next) {\r\n  if (to.fullPath === '/home/homepage' || to.fullPath === '/home/searchpage') {\r\n    if (window.localStorage.getItem('token')) {\r\n      if (from.fullPath === '/home/searchpage') {\r\n        next()\r\n      } else {\r\n        next()\r\n      }\r\n    } else {\r\n      next('/login')\r\n    }\r\n  } else if (to.fullPath === '/login/mode1' || to.fullPath === '/login/mode2') {\r\n    if (window.localStorage.getItem('token') === 'true') {\r\n      next('/home')\r\n    } else {\r\n      next()\r\n    }\r\n  } else {\r\n    next()\r\n  }\r\n})\r\nexport default router\r\n"]}]}